# Подготовка к запуску
## База данных
Для запуска базы достаточно ввести команду `docker-compose -f docker-compose.yaml up -d`

## Зависимости
1. `python -m venv .venv`
2. `source <путь-до-нужного-скрипта>`
3. `pip install -r requirements.txt`
# Использование
Проект использует [Typer](https://typer.tiangolo.com/) для CLI. Чтобы посмотреть комманды исполните `python3 src/main.py --help`
Запуск клиектов для вирутальной машины происходит по комманде `start-client`. Запустить экземпляр сервера нужно с помощью `server-start`
## Конфигурация в Docker
После запуска в окне можно почитать логи. В целом никто не мешает вам произвести запуск в одельных контейнерах - я написал Dockerfile, а большая часть кода конфигурируется
при помощи [pydantic-settings](https://docs.pydantic.dev/latest/concepts/pydantic_settings/) (см. файл src/core/config.py) и при указании перменной окружения содержащей путь 
до файла можно запустить в контейнере

# Возможные ошибки
Честно говоря мне не особо нравится этот код, к сожалению времени чтобы отладть все как следует и провести рефакторнинг должный не хватило.
Что я бы улучшил в первую очередь:
- К примеру при остановке приложения клиента сервер об этом не знает и стоит добавть мезанизм с одиданием ответа от клиента
- Нужна более продвинутая синхронизация данных клиента и базы. Например при создании нового подключения конфигурация клиента должна передаваться серверу и обновлять дефолтные значения в базе
- Авторизация в целом работает, но она очень простая и глупая. В идеале бы использовать токены
- Обработка отвтов происходит не так как следует - ответы мапятся в модели вручную
- Обработку ошибок стоит сделать более понятной
- В начале я старался документировать и использовать интерфейсы (которые следовало бы вынести в отдельные файлы), но потом начал торопиться
- Импорты стоило бы вынести в __init__.py для более удобной работы
- CLI несколько запутанный

# PS
Мне было очень интересно делать этот проект потому что много лет я использовать uvicorn как сервер и редко сталкивался с TCP напрямую. 
Однако за выходные я не смог сделать всего, что хотел бы видеть в проекте, но по крайней мере каждую из обозначенных проблем я знаю как решать. 
К тому же у меня наконец появился повод попробовать Typer :)
